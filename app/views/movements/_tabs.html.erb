<nav class="w-full sm:w-1/2 flex justify-start mt-3" data-controller="tab">
  <%= render TabComponent.new(
        item: 'Entradas',
        path: movements_path(params: { kind: 'pickup' }),
        options: {
          icon: 'arrow-down-circle.svg',
          text: 'Entradas',
          notification: Movement.pickup.count,
          link_style: 'tab-component'
        }
      ) %>
  <%= render TabComponent.new(
        item: 'Salidas',
        path: movements_path(params: { kind: 'delivery' }),
        options: {
          icon: 'arrow-up-circle.svg',
          text: 'Salidas',
          notification: Movement.delivery.count,
          link_style: 'tab-component'
        }
      ) %>
</nav>

<div class="w-full h-48 flex justify-between bg-gray-200 opacity-60 p-6">
  <div class="w-full md:w-1/3 px-4 my-2 flex flex-col">
    <h3 class="title font-semibold font-sm md:font-lg text-left">Busca entre fechas</h3>
    <div class="flex">
      <%= render DateSearcherComponent.new(
        path: movements_path,
        attribute: :range,
        options: {
          placeholder: 'Buscaar entre fechas...',
          kind: params[:kind]
        }
      )%>
    </div>
  </div>
  <div class="w-full md:w-1/3 px-4 my-2 flex flex-col justify-center items-center">
    <h3 class="title font-semibold font-sm md:font-lg text-left">Tipo de Producto</h3>
    <%= form_with url: movements_path, method: :get, local: true do |form| %>
    <%= form.hidden_field :kind, value: params[:kind] %>
      <div class="flex items-center gap-6">
        <div class="flex items-center">
          <%= form.radio_button :product_kind, 'box', class: 'form-radio' %>
          <%= form.label :product_kind, 'Caja', class: 'text-sm' %>
        </div>
        <div class="flex items-center">
          <%= form.radio_button :product_kind, 'pallet', class: 'form-radio' %>
          <%= form.label :product_kind, 'Pallet', class: 'text-sm' %>
        </div>
        <div class="flex">
          <%= form.submit 'Cambiar', class: 'button-danger' %>
        </div>
      </div>
    <% end %>
  </div>
  <div class="w-full md:w-1/3 px-4 my-2 flex flex-col justify-center items-center">
    <h3 class="title font-semibold font-sm md:font-lg text-left">Productos</h3>
    <%= link_to 'Productos', '', data: {turbo_frame: 'modal'} %>

    <%= render ModalComponent.new(title: "Buscar Producto") do %>
    <%= form_with url: movements_path, method: :get, local: true, class: 'contents' do |form| %>
      <%= form.hidden_field :kind, value: params[:kind] %>
      <div class="flex flex-wrap justify-between items-center gap-8 my-8">
        <%= render CheckboxSearcherComponent.with_collection(@products) %>
      </div>
      <div class="inline">
        <%= form.submit 'buscar', class: 'button-danger' %>
      </div>
      <% end %>
    <% end %>
  </div>
  <div class="w-full md:w-1/3 px-4 my-2 flex flex-col">
    <h3 class="title font-semibold font-sm md:font-lg text-left">
      <%= 'Destinatarios' if params[:kind].eql?('delivery')%>
      <%= 'Remitente' if params[:kind].eql?('pickup')%>
    </h3>
    <div class="flex items-end">
      <%= render StringSearcherComponent.new(
        path: search_movements_path,
        attribute: :name,
        options: {
          placeholder: 'search customer',
          kind: params[:kind],
          regex: params[:name]
        }
      )%>
    </div>
  </div>
</div>
